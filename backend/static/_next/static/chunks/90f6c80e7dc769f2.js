(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55027,e=>{"use strict";var t=e.i(71731),s=e.i(33924);e.i(998);let i="https://api-sackson.pythonanywhere.com".trim().replace(/\/+$/,"")||"";class o extends Error{status;body;constructor(e,t,s){super(e),this.status=t,this.body=s}}async function r(e){return(e.headers.get("content-type")||"").includes("application/json")?e.json().catch(()=>null):e.text().catch(()=>"")}async function n(e,t){let s,n=await fetch((s=e.startsWith("/")?e:`/${e}`,i?`${i}${s}`:s),{...t,method:"GET",headers:{Accept:"application/json",...t?.headers||{}}}),d=await r(n);if(!n.ok)throw new o("string"==typeof d?d:d?.detail||d?.message||`Request failed (${n.status})`,n.status,d);return d}function d(){let[e,r]=(0,s.useState)("loading"),[d,l]=(0,s.useState)(""),[a,c]=(0,s.useState)([]),[p,h]=(0,s.useState)(""),[x,g]=(0,s.useState)(!0),m=(0,s.useMemo)(()=>i||"(same origin)",[]);return(0,s.useEffect)(()=>{let e=!1;return async function(){try{let t=await n("/health");e||(r(t.ok?"ok":"error"),l(t.ok?"":"Health endpoint returned ok=false"))}catch(t){e||(r("error"),l(t instanceof Error?t.message:"Unknown error"))}g(!0);try{let t=await n("/projects?page=1&limit=10");e||(c(t.projects||[]),h(""))}catch(t){e||(h(t instanceof o?`${t.message} (HTTP ${t.status})`:t instanceof Error?t.message:"Unknown error"),c([]))}finally{e||g(!1)}}(),()=>{e=!0}},[]),(0,t.jsx)("div",{style:{fontFamily:"system-ui, -apple-system, Segoe UI, Roboto, Arial"},children:(0,t.jsxs)("main",{style:{maxWidth:900,margin:"0 auto",padding:24},children:[(0,t.jsx)("h1",{style:{fontSize:28,marginBottom:8},children:"AIPI Platform"}),(0,t.jsxs)("div",{style:{padding:12,border:"1px solid #ddd",borderRadius:12,marginBottom:16},children:[(0,t.jsx)("div",{style:{fontWeight:600,marginBottom:6},children:"Backend"}),(0,t.jsxs)("div",{style:{marginBottom:6},children:["API Base URL: ",(0,t.jsx)("code",{children:m})]}),(0,t.jsxs)("div",{children:["Status:"," ","loading"===e?(0,t.jsx)("span",{children:"checking…"}):"ok"===e?(0,t.jsx)("span",{style:{fontWeight:700},children:"OK ✅"}):(0,t.jsx)("span",{style:{fontWeight:700},children:"ERROR ❌"})]}),d?(0,t.jsx)("div",{style:{marginTop:8,color:"#b00020"},children:d}):null]}),(0,t.jsxs)("div",{style:{padding:12,border:"1px solid #ddd",borderRadius:12},children:[(0,t.jsx)("div",{style:{fontWeight:600,marginBottom:10},children:"Projects (first 10)"}),x?(0,t.jsx)("div",{children:"Loading projects…"}):null,p?(0,t.jsx)("div",{style:{color:"#b00020",marginBottom:10},children:p}):null,x||p||0!==a.length?null:(0,t.jsx)("div",{children:"No projects found."}),a.length>0?(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{textAlign:"left",borderBottom:"1px solid #eee",padding:"8px 4px"},children:"Name"}),(0,t.jsx)("th",{style:{textAlign:"left",borderBottom:"1px solid #eee",padding:"8px 4px"},children:"Sector"}),(0,t.jsx)("th",{style:{textAlign:"left",borderBottom:"1px solid #eee",padding:"8px 4px"},children:"Country"}),(0,t.jsx)("th",{style:{textAlign:"right",borderBottom:"1px solid #eee",padding:"8px 4px"},children:"Score"}),(0,t.jsx)("th",{style:{textAlign:"right",borderBottom:"1px solid #eee",padding:"8px 4px"},children:"V"})]})}),(0,t.jsx)("tbody",{children:a.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{borderBottom:"1px solid #f3f3f3",padding:"8px 4px"},children:e.name}),(0,t.jsx)("td",{style:{borderBottom:"1px solid #f3f3f3",padding:"8px 4px"},children:e.sector||"-"}),(0,t.jsx)("td",{style:{borderBottom:"1px solid #f3f3f3",padding:"8px 4px"},children:e.country||"-"}),(0,t.jsx)("td",{style:{borderBottom:"1px solid #f3f3f3",padding:"8px 4px",textAlign:"right"},children:Number.isFinite(e.bankability_score)?e.bankability_score.toFixed(1):e.bankability_score}),(0,t.jsx)("td",{style:{borderBottom:"1px solid #f3f3f3",padding:"8px 4px",textAlign:"right"},children:e.verification_level})]},e.id))})]}):null]}),(0,t.jsxs)("div",{style:{marginTop:16,fontSize:13,opacity:.75},children:["Tip: for single-domain deploy (FastAPI serves frontend), keep ",(0,t.jsx)("code",{children:"NEXT_PUBLIC_API_BASE_URL"})," empty so frontend calls ",(0,t.jsx)("code",{children:"/health"})," and ",(0,t.jsx)("code",{children:"/projects"})," on same origin."]})]})})}e.s(["default",()=>d],55027)}]);